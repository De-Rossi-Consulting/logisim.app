<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Logisim Wasm</title>
    <script src="https://cjrtnc.leaningtech.com/3.1/cj3loader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/idb@8/build/umd.js"></script>
    <script>window.idb = idb;</script>
    <script type="text/javascript" src="src/javascript/fileFunctions.js"></script>
    <script type="text/javascript" src="src/javascript/exampleFunctions.js"></script>
    <link rel="stylesheet" href="src/style.css">
  </head>
  <body>
    <header class="absolute top-0 right-0 left-0 h-14 flex items-center justify-between bg-white md:px-8 z-50">
      <!-- Logo -->
      <div class="flex items-center">
        <a href="https://drs.software/">
          <img src="/src/images/drs-logo-header.svg" alt="DRS Company logo"
            class="h-10 invert" />
        </a>
      </div>
      
      <div class="relative inline-block text-left">
        <div>
          <button type="button" class="inline-flex w-full justify-center gap-x-1.5 rounded-md bg-white px-3 py-2 text-sm font-semibold text-zinc-700" id="example-button" aria-expanded="false" aria-haspopup="true" onclick="toggleDropdown()">
            Examples
            <svg class="-mr-1 size-5 text-zinc-700" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
              <path fill-rule="evenodd" d="M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd" />
            </svg>
          </button>
        </div>
        <div class="absolute right-0 z-10 mt-2 w-56 origin-top-right rounded-md bg-white ring-1 shadow-lg ring-black/5 focus:outline-hidden" id="example-menu" role="menu" aria-orientation="vertical" aria-labelledby="menu-button" tabindex="-1">
          <div class="py-1" role="none">
              <button class="block w-full px-4 py-2 text-left text-sm text-zinc-700" role="menuitem" tabindex="-1" onclick="loadExample('src/examples/32 Bit ALU Example.circ', '32 Bit ALU Example')">32-bit ALU</button>
          </div>
        </div>
      </div>


      <div>
        <h1 class="text-zinc-700 font-medium">Logisim Online</h1>
      </div>
    
      <!-- Navigation links -->
      <nav class="flex items-center gap-8 mr-4 md:gap-8">
        <a href="https://drs.software/" class="text-zinc-700 font-medium
          text-base font-sans hover:text-zinc-900">Home</a>
        <a href="https://drs.software/about" class="text-zinc-700 font-medium
          text-base font-sans hover:text-zinc-900">About</a>
        <a href="https://drs.software/blog/" class="text-zinc-700 font-medium
          text-base font-sans hover:text-zinc-900">How was this made?</a>
      </nav>
    </header>

    <div id="cheerp-container" class="absolute top-[3.5rem] right-0 left-0
      bottom-[26px] shadow-none overflow-hidden border-t border-b border-zinc-200
      bg-white bg-zinc-200">
      <script>
        (async function () {
          await cheerpjInit({
            version: 8,
            natives: {
              Java_com_cburch_logisim_gui_main_ExportImage_DownloadFile,
              Java_com_cburch_logisim_gui_menu_MenuFile_SendFileData,
              Java_com_cburch_logisim_proj_ProjectActions_SendFileData,
              Java_com_cburch_logisim_gui_menu_MenuFile_openFolder,
              Java_com_cburch_logisim_gui_menu_MenuProject_openFolder,
              Java_com_cburch_logisim_gui_menu_ProjectLibraryActions_openJarLibrary,
              Java_com_cburch_logisim_gui_start_Startup_setJava,
            },
          });
          cheerpjCreateDisplay(-1, -1, document.getElementById("cheerp-container"));
          while (true) // restarts the app if its fully closed
            await cheerpjRunJar("/app/logisim.jar");
        })();
      </script>
    </div>

    <footer class="absolute bottom-0 right-0 left-0 h-[30px] flex items-center
      justify-center bg-white px-4 md:px-8 z-50 border-t border-zinc-200">
      <div class="flex items-center gap-8 text-zinc-700 text-sm">
        <a href="https://drs.software/" class="flex items-center gap-1 font-medium">
          Made with <span role="img" aria-label="love">❤️</span> by DRS Software
        </a>
        <a href="https://cheerpj.com/" class="flex items-center gap-1 font-medium">
          Powered by <img src="/src/images/CJLogo.webp" alt="CheerpJ logo" class="h-4" /> CheerpJ
        </a>
      </div>
    </footer>    
  </body>
</html>
